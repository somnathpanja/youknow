<!DOCTYPE html>
<html ng-app="monitoring">
<head lang="en">
    <meta charset="UTF-8">
    <title>Server Monitoring</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"/>
    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript">
      window.onload = function () {
        cpuChart = new CanvasJS.Chart("cpuChartContainer", {
          zoomEnabled: true,
          title: {
            text: "CPU Utilization (RealTime)"
          }, axisY: {
            title: "CPU %",
            labelFontSize: 10,
            minimum: 0,
            maximum: 100
          },
          axisX: {
            labelFontSize: 10,
            crosshair: {
              enabled: true
            }
          },
          legend: {
            fontSize: 10,
            itemclick: function (e) {
              e.dataSeries.visible = (typeof e.dataSeries.visible === 'undefined') ? true : e.dataSeries.visible;
              e.dataSeries.visible = !e.dataSeries.visible;
              cpuChart.render();
            }
          },
          data: cpuChartData
        });

        memChart = new CanvasJS.Chart("memChartContainer", {
          zoomEnabled: true,
          dataPointMinWidth: 4,
          title: {
            text: "Memory Utilization (RealTime)"
          }, axisY: {
            title: "Memory (MB)",
            labelFontSize: 10,
            minimum: 0
          },
          axisX: {
            labelFontSize: 10,
            crosshair: {
              enabled: true
            }
          },
          legend: {
            fontSize: 10,
            itemclick: function (e) {
              e.dataSeries.visible = (typeof e.dataSeries.visible === 'undefined') ? true : e.dataSeries.visible;
              e.dataSeries.visible = !e.dataSeries.visible;
              memChart.render();
            }
          },
          data: memChartData
        });

        loadAvgChart = new CanvasJS.Chart("loadAvgChartContainer", {
          zoomEnabled: true,
          title: {
            text: "SYSTEM LOAD AVG (RealTime)"
          }, axisY: {
            title: "Load Average",
            minimum: 0
          },
          axisX: {
            crosshair: {
              enabled: true
            }
          },
          legend: {
            fontSize: 10,
            itemclick: function (e) {
              e.dataSeries.visible = (typeof e.dataSeries.visible === 'undefined') ? true : e.dataSeries.visible;
              e.dataSeries.visible = !e.dataSeries.visible;
              loadAvgChart.render();
            }
          },
          data: loadAvgChartData
        });
      };
    </script>
</head>
<body>


<div style="padding-left: 20px;padding-right: 20px;">
    <h1 style="color:#0A9FF0;">YouKnow <h4 style="color:gray;">Monitor your server.</h4></h1>

    <h5 style="padding-top: -30px;color:gray;" class="clearfix disabled">YouKnow is maintained by <a href="https://github.com/somnathpanja">@somnathpanja</a> (Somnath Panja).
        <a href="https://github.com/somnathpanja/youknow">https://github.com/somnathpanja/youknow</a>
        Also find in <a href="https://stackoverflow.com/users/189102/somnath">Stack Overflow.</a>
    </h5>
    <div> <!-- <div class="container">-->
        </br>
        <h2>Server current status</h2>

        <table class="table table-condensed table-bordered table-hover" ng-controller="serverController as serverCtrl">
            <thead>
            <tr style="color:#0A9FF0;">
                <td>Host</td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="server in serverCtrl.servers">
                <td><h5>{{server.host}}</h5></td>
            </tr>
            </tbody>
        </table>
        <script type="text/javascript" src="/canvasjs/canvasjs.min.js"></script>
        <div class="container" style="width: 100%;">
            <div class="row">
                <div class="col-xs-6">
                    <div id="loadAvgChartContainer" style="height: 400px; width: 100%;"></div>
                </div>
                <div class="col-xs-6">
                    <div id="cpuChartContainer" style="height: 400px; width: 100%;"></div>
                </div>
            </div>
        </div>
        </br>
        <div id="memChartContainer" style="height: 400px; width: 100%;"></div>
    </div>
</div>
</div>
</body>
</html>